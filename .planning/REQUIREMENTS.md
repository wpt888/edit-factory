# Requirements: Edit Factory

**Defined:** 2026-02-12
**Core Value:** Script-first video production: describe an idea, get multiple social-media-ready videos with AI-generated voiceover, perfectly synced subtitles, and keyword-matched visuals.

## v4 Requirements

Requirements for v4 Script-First Video Production Pipeline. Each maps to roadmap phases.

### ElevenLabs Upgrade

- [ ] **TTS-01**: System uses eleven_flash_v2_5 as default TTS model (configurable)
- [ ] **TTS-02**: TTS audio output is 192kbps MP3 quality
- [ ] **TTS-03**: System retrieves character-level timestamps from ElevenLabs /with-timestamps endpoint
- [ ] **TTS-04**: User can select ElevenLabs model per render (flash v2.5, v3, multilingual v2)

### Subtitle Generation from TTS

- [ ] **SUB-01**: System generates SRT subtitles from ElevenLabs character timestamps (no Whisper needed)
- [ ] **SUB-02**: Character-level timestamps are grouped into word-level and phrase-level subtitle entries
- [ ] **SUB-03**: Generated subtitles use existing subtitle styling (shadow, glow, adaptive sizing from v3)

### AI Script Generation

- [ ] **SCRIPT-01**: User provides idea/context and gets N script variants generated by AI
- [ ] **SCRIPT-02**: AI receives available segment keywords to write keyword-aware scripts
- [ ] **SCRIPT-03**: Scripts follow TTS-safe template (plain text, proper punctuation, no emojis/stage directions)
- [ ] **SCRIPT-04**: User can choose between Gemini and Claude Max as AI provider for script generation
- [ ] **SCRIPT-05**: User can review and edit generated scripts before TTS generation

### Script-to-Video Assembly

- [ ] **ASM-01**: System matches subtitle keywords against segment library keywords to select video segments
- [ ] **ASM-02**: Selected segments are arranged on timeline to match voiceover timing
- [ ] **ASM-03**: Final video is rendered with segments + TTS audio + subtitles using existing v3 quality settings
- [ ] **ASM-04**: Silence removal is applied to TTS audio before assembly (existing functionality)

### Multi-Variant Pipeline

- [ ] **PIPE-01**: User can request N variants (1-10) from a single idea/context
- [ ] **PIPE-02**: Each variant gets a unique script, voiceover, and segment arrangement
- [ ] **PIPE-03**: User can preview/select variants before final render

## Future Requirements

### Advanced Features

- **ADV-01**: ElevenLabs dubbing API for auto-translating videos to other languages
- **ADV-02**: Voice cloning via ElevenLabs API for custom brand voices
- **ADV-03**: AI-powered segment tagging (auto-suggest keywords from video content)
- **ADV-04**: Sound effects API integration for background audio

## Out of Scope

| Feature | Reason |
|---------|--------|
| Voice cloning | User will use existing ElevenLabs voices, not custom clones |
| Dubbing/translation | Separate workflow, not needed for current store use case |
| Real-time TTS streaming | Not needed for pre-rendered video production |
| Whisper integration for v4 | TTS timestamps replace Whisper for subtitle generation |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| TTS-01 | — | Pending |
| TTS-02 | — | Pending |
| TTS-03 | — | Pending |
| TTS-04 | — | Pending |
| SUB-01 | — | Pending |
| SUB-02 | — | Pending |
| SUB-03 | — | Pending |
| SCRIPT-01 | — | Pending |
| SCRIPT-02 | — | Pending |
| SCRIPT-03 | — | Pending |
| SCRIPT-04 | — | Pending |
| SCRIPT-05 | — | Pending |
| ASM-01 | — | Pending |
| ASM-02 | — | Pending |
| ASM-03 | — | Pending |
| ASM-04 | — | Pending |
| PIPE-01 | — | Pending |
| PIPE-02 | — | Pending |
| PIPE-03 | — | Pending |

**Coverage:**
- v4 requirements: 19 total
- Mapped to phases: 0
- Unmapped: 19 (pending roadmap creation)

---
*Requirements defined: 2026-02-12*
*Last updated: 2026-02-12 after initial definition*
