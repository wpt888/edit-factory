---
phase: 04-tts-provider-selection
plan: 07
type: execute
wave: 4
depends_on: ["04-05", "04-06"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can navigate to settings page and see TTS section"
    - "Provider cards display with correct cost badges"
    - "Provider selection updates and persists"
    - "API endpoints respond correctly"
---

<objective>
Verify TTS provider selection feature works end-to-end with visual confirmation.

Purpose: User acceptance testing for Phase 4 TTS integration. Confirm all requirements (TTS-01 through TTS-06) are met.

Output: Visual verification that TTS features work as expected.
</objective>

<execution_context>
@/home/ukfdb/.claude/get-shit-done/workflows/execute-plan.md
@/home/ukfdb/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify backend API endpoints</name>
  <files></files>
  <action>
Test all TTS API endpoints:

1. Start backend if not running:
```bash
cd "/mnt/c/OBSID SRL/n8n/edit_factory" && source venv/bin/activate && python run.py &
```

2. Test /api/v1/tts/providers:
```bash
curl -s http://localhost:8000/api/v1/tts/providers | python -m json.tool
```
Expected: List of 4 providers with cost info

3. Test /api/v1/tts/voices?provider=edge:
```bash
curl -s "http://localhost:8000/api/v1/tts/voices?provider=edge" -H "X-Profile-Id: default" | python -m json.tool | head -50
```
Expected: List of Edge TTS voices

4. Verify API docs show TTS endpoints:
Open http://localhost:8000/docs and confirm /tts/* endpoints visible
  </action>
  <verify>
API endpoints return valid JSON responses.
  </verify>
  <done>
Backend TTS API endpoints functional.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete TTS provider selection feature:
- Settings page with TTS configuration section
- Provider selector with 4 options and cost badges
- Voice cloning upload for Coqui XTTS
- Backend API for providers, voices, generation, and cloning
  </what-built>
  <how-to-verify>
1. Start frontend: `cd frontend && npm run dev`
2. Navigate to http://localhost:3000/settings
3. Verify TTS section displays:
   - Four provider cards (ElevenLabs, Edge TTS, Coqui XTTS, Kokoro)
   - Cost badges: "$0.22/1k chars" for ElevenLabs, "Free" for others
   - "Voice Cloning Available" badge on Coqui card
4. Select different providers:
   - Click Edge TTS card, verify selection indicator
   - Click Coqui card, verify voice cloning upload appears
5. Test voice cloning UI (Coqui selected):
   - Voice name input visible
   - File upload button visible
   - Requirements alert displayed
6. Click Save button, verify no errors

Screenshot the settings page showing provider selection.
  </how-to-verify>
  <resume-signal>Type "approved" if TTS settings page works correctly, or describe issues.</resume-signal>
</task>

</tasks>

<verification>
1. Settings page loads without errors
2. Provider selector shows all 4 providers
3. Cost badges display correctly
4. Provider selection visual feedback works
5. Voice cloning section appears for Coqui
6. Save functionality works
</verification>

<success_criteria>
- User can see and interact with TTS settings
- All Phase 4 requirements (TTS-01 to TTS-06) visually verified
- No console errors
- Settings persist after refresh
</success_criteria>

<output>
After completion, create `.planning/phases/04-tts-provider-selection/04-07-SUMMARY.md`
</output>
