# Requirements Archive: v4 Script-First Pipeline

**Archived:** 2026-02-12
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: Edit Factory

**Defined:** 2026-02-12
**Core Value:** Script-first video production: describe an idea, get multiple social-media-ready videos with AI-generated voiceover, perfectly synced subtitles, and keyword-matched visuals.

## v4 Requirements

Requirements for v4 Script-First Video Production Pipeline. Each maps to roadmap phases.

### ElevenLabs Upgrade

- [x] **TTS-01**: System uses eleven_flash_v2_5 as default TTS model (configurable) -- SHIPPED v4
- [x] **TTS-02**: TTS audio output is 192kbps MP3 quality -- SHIPPED v4
- [x] **TTS-03**: System retrieves character-level timestamps from ElevenLabs /with-timestamps endpoint -- SHIPPED v4
- [x] **TTS-04**: User can select ElevenLabs model per render (flash v2.5, v3, multilingual v2) -- SHIPPED v4

### Subtitle Generation from TTS

- [x] **SUB-01**: System generates SRT subtitles from ElevenLabs character timestamps (no Whisper needed) -- SHIPPED v4
- [x] **SUB-02**: Character-level timestamps are grouped into word-level and phrase-level subtitle entries -- SHIPPED v4
- [x] **SUB-03**: Generated subtitles use existing subtitle styling (shadow, glow, adaptive sizing from v3) -- SHIPPED v4

### AI Script Generation

- [x] **SCRIPT-01**: User provides idea/context and gets N script variants generated by AI -- SHIPPED v4
- [x] **SCRIPT-02**: AI receives available segment keywords to write keyword-aware scripts -- SHIPPED v4
- [x] **SCRIPT-03**: Scripts follow TTS-safe template (plain text, proper punctuation, no emojis/stage directions) -- SHIPPED v4
- [x] **SCRIPT-04**: User can choose between Gemini and Claude Max as AI provider for script generation -- SHIPPED v4
- [x] **SCRIPT-05**: User can review and edit generated scripts before TTS generation -- SHIPPED v4

### Script-to-Video Assembly

- [x] **ASM-01**: System matches subtitle keywords against segment library keywords to select video segments -- SHIPPED v4
- [x] **ASM-02**: Selected segments are arranged on timeline to match voiceover timing -- SHIPPED v4
- [x] **ASM-03**: Final video is rendered with segments + TTS audio + subtitles using existing v3 quality settings -- SHIPPED v4
- [x] **ASM-04**: Silence removal is applied to TTS audio before assembly (existing functionality) -- SHIPPED v4

### Multi-Variant Pipeline

- [x] **PIPE-01**: User can request N variants (1-10) from a single idea/context -- SHIPPED v4
- [x] **PIPE-02**: Each variant gets a unique script, voiceover, and segment arrangement -- SHIPPED v4
- [x] **PIPE-03**: User can preview/select variants before final render -- SHIPPED v4

## Future Requirements

### Advanced Features

- **ADV-01**: ElevenLabs dubbing API for auto-translating videos to other languages
- **ADV-02**: Voice cloning via ElevenLabs API for custom brand voices
- **ADV-03**: AI-powered segment tagging (auto-suggest keywords from video content)
- **ADV-04**: Sound effects API integration for background audio

## Out of Scope

| Feature | Reason |
|---------|--------|
| Voice cloning | User will use existing ElevenLabs voices, not custom clones |
| Dubbing/translation | Separate workflow, not needed for current store use case |
| Real-time TTS streaming | Not needed for pre-rendered video production |
| Whisper integration for v4 | TTS timestamps replace Whisper for subtitle generation |

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| TTS-01 | Phase 12 | Complete |
| TTS-02 | Phase 12 | Complete |
| TTS-03 | Phase 12 | Complete |
| TTS-04 | Phase 12 | Complete |
| SUB-01 | Phase 13 | Complete |
| SUB-02 | Phase 13 | Complete |
| SUB-03 | Phase 13 | Complete |
| SCRIPT-01 | Phase 14 | Complete |
| SCRIPT-02 | Phase 14 | Complete |
| SCRIPT-03 | Phase 14 | Complete |
| SCRIPT-04 | Phase 14 | Complete |
| SCRIPT-05 | Phase 14 | Complete |
| ASM-01 | Phase 15 | Complete |
| ASM-02 | Phase 15 | Complete |
| ASM-03 | Phase 15 | Complete |
| ASM-04 | Phase 15 | Complete |
| PIPE-01 | Phase 16 | Complete |
| PIPE-02 | Phase 16 | Complete |
| PIPE-03 | Phase 16 | Complete |

**Coverage:**
- v4 requirements: 19 total
- Mapped to phases: 19 (100%)
- Unmapped: 0

**Phase Distribution:**
- Phase 12 (ElevenLabs TTS Upgrade): 4 requirements
- Phase 13 (TTS-Based Subtitles): 3 requirements
- Phase 14 (AI Script Generation): 5 requirements
- Phase 15 (Script-to-Video Assembly): 4 requirements
- Phase 16 (Multi-Variant Pipeline): 3 requirements

---
*Requirements defined: 2026-02-12*
*Last updated: 2026-02-12 after roadmap creation (100% coverage achieved)*
